<!--提现部分 -- start-->
<div nz-row>
  <div class="page-msg mt mb-20 pt-15 pb-15">
    <span><i class="anticon anticon-red-envelope mr-5 ml font18"></i>余额：
      <b class="main-color font18">￥{{storeInfo.acct}}</b>
    </span>
    <button nz-button class="ml-20 btn-thc" (click)="showModal()">
      提现
    </button>
    <span class="main-color ml-20 cursor settle-record" routerLink="../cash"><u>提现记录</u></span>
    <!--提现记录弹窗 -- start -->
    <nz-modal [nzVisible]="isVisible" [nzTitle]="'提现申请'" class="thc" [nzContent]="modalContent"
              (nzOnCancel)="handleCancel($event)"
              (nzOnOk)="handleOk($event)" [nzConfirmLoading]="isConfirmLoading">
      <ng-template #modalContent>
        <!--申请提现 -- start -->
        <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label nz-form-item-required>
            <span>
             收款人姓名
            </span>
              </label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback
                 [nzValidateStatus]="getFormControl('bacctName')">
              <nz-input [nzSize]="'large'" formControlName="bacctName" [nzId]="'bacctName'"></nz-input>
              <div nz-form-explain
                   *ngIf="getFormControl('bacctName').dirty&&getFormControl('bacctName').hasError('required')">请输入收款人姓名!
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label nz-form-item-required>账户余额</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="balance" [nzId]="'email'"></nz-input>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label nz-form-item-required>
            <span>
             申请提现金额
            </span>
              </label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback
                 [nzValidateStatus]="getFormControl('acct')">
              <nz-input [nzSize]="'large'" formControlName="acct" [nzId]="'acct'"></nz-input>
              <div nz-form-explain
                   *ngIf="getFormControl('acct').dirty&&getFormControl('acct').hasError('required')">请输入申请提现的金额
              </div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSpan]="6">
              <label nz-form-item-required>收款账号开户行</label>
            </div>
            <div nz-form-control nz-col [nzSpan]="14">
              <nz-select class="w100" formControlName="bank" name="bank" [nzSize]="'large'">
                <nz-option
                  *ngFor="let item of bankDataList"
                  [nzLabel]="item.remark"
                  [nzValue]="item.remark">
                </nz-option>
              </nz-select>
            </div>
          </div>
        </form>
        <!--申请提现 -- end -->
      </ng-template>
    </nz-modal>
    <!--提现记录弹窗 -- end -->
  </div>
</div>
<!--提现部分 -- end-->
<!--结算明细 -- start-->
<div>
  <div class="font16 mb-20">
    <i class="anticon anticon-switcher mr"></i><span>结算信息</span>
    <!--结算公式 -- start -->
    <nz-popover [nzPlacement]="'leftTop'" class="ml fr">
      <span nz-popover class="main-color cursor"><u>结算公式</u></span>
      <ng-template #nzTemplate>
        <div><p>{{settleFormula.one}}</p>
          <p>{{settleFormula.two}}</p></div>
      </ng-template>
    </nz-popover>
    <!--结算公式 -- end -->
  </div>
  <!--结算表格 -- start-->
  <nz-table #nzTable [nzAjaxData]="settlePage.voList"
            [nzLoading]="_loading"
            [nzTotal]="settlePage.totalRow"
            [(nzPageIndex)]="settlePage.curPage"
            (nzPageIndexChange)="qeuryCashData()"
            [(nzPageSize)]="settlePage.pageSize">
    <!--结算头部 --start -->
    <thead nz-thead>
    <tr>
      <th nz-th class="w10 text-center"><span>序号</span></th>
      <th nz-th class="w18 text-center"><span>提现总额</span></th>
      <th nz-th class="w18 text-center"><span>订单退款</span></th>
      <th nz-th class="w18 text-center"><span>结算比例</span></th>
      <th nz-th class="w18 text-center"><span>应结款</span></th>
    </tr>
    </thead>
    <!--结算头部 --end -->
    <!--结算数据 --start -->
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of nzTable.data;let i=index;" class="text-center">
      <td nz-td>{{i+1}}</td>
      <td nz-td>{{data.ordPay}}</td>
      <td nz-td>{{data.ordRefundPay}}</td>
      <td nz-td>{{data.settleRate}}</td>
      <td nz-td>{{data.settle}}</td>
    </tr>
    </tbody>
    <!--结算数据 --end -->
  </nz-table>
  <!--结算表格 -- end-->
</div>
<!--结算明细 -- end-->
